<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Product Certification Info</title>
  <style>
    body { font-family: sans-serif; margin: 2rem; }
    h1 { margin-bottom: 0.5rem; }
    .subtitle { font-size: 1rem; color: #333; margin-top: 0; line-height: 1.5; }
    table { border-collapse: collapse; width: 100%; margin-top: 1rem; }
    td, th { border: 1px solid #ddd; padding: 0.75rem; vertical-align: middle; }
    td img { max-height: 50px; max-width: 120px; }
    th { background-color: #f5f5f5; }
  </style>
</head>
<body>
  <h1>Product Certification Info</h1>
  <div class="subtitle" id="subtitle"></div>

  <table id="info-table">
    <tr>
      <th>Certification No</th>
      <th>Logo</th>
    </tr>
  </table>

  <script>
    const targetKey = "ABL4";

    fetch("data.json")
      .then(res => res.json())
      .then(data => {
        const item = data[targetKey];
        const logoMap = data["certificationLogos"];
        if (!item || !item.certifications || item.certifications.length === 0) {
          throw new Error("Missing data or certifications");
        }

        // Name & Model No 표시
        const subtitle = document.getElementById("subtitle");
        subtitle.innerHTML = `
          <strong>Name:</strong> ${item.name || "-"}<br>
          <strong>Model No:</strong> ${item.model || "-"}
        `;

        // 테이블에 인증 정보 추가
        const table = document.getElementById("info-table");
        item.certifications.forEach(certNumber => {
          const row = document.createElement("tr");

          const tdCert = document.createElement("td");
          tdCert.textContent = certNumber;

          const tdImage = document.createElement("td");
          const img = document.createElement("img");
          img.src = "images/" + (logoMap[certNumber] || "default.png");
          img.alt = certNumber;
          tdImage.appendChild(img);

          row.appendChild(tdCert);
          row.appendChild(tdImage);
          table.appendChild(row);
        });
      })
      .catch(() => {
        const row = document.createElement("tr");
        row.innerHTML = "<td colspan='2'>Failed to load data.</td>";
        document.getElementById("info-table").appendChild(row);
      });
  </script>
</body>
</html>
