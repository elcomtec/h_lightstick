<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>제품 인증 정보</title>
  <style>
    body { font-family: sans-serif; margin: 2rem; }
    table { border-collapse: collapse; width: 100%; margin-top: 1rem; }
    td, th { border: 1px solid #ddd; padding: 0.75rem; vertical-align: middle; }
    td img { max-height: 50px; max-width: 120px; }
    th { background-color: #f5f5f5; }
  </style>
</head>
<body>
  <h1>제품 인증 정보</h1>
  <table id="info-table">
    <tr>
      <th>이름</th>
      <th>모델명</th>
      <th>인증번호</th>
      <th>로고</th>
    </tr>
  </table>

<script>
  const targetKey = "ABL4";

  fetch("data.json")
    .then(res => res.json())
    .then(data => {
      const item = data[targetKey];
      const logoMap = data["certificationLogos"];
      if (!item || !item.certifications || item.certifications.length === 0) {
        throw new Error("데이터 없음 또는 인증 정보 없음");
      }

      const table = document.getElementById("info-table");

      item.certifications.forEach((certNumber, index) => {
        const row = document.createElement("tr");

        // 첫 줄에만 name, model 표시
        const tdName = document.createElement("td");
        tdName.textContent = index === 0 ? item.name || "-" : "";

        const tdModel = document.createElement("td");
        tdModel.textContent = index === 0 ? item.model || "-" : "";

        const tdCert = document.createElement("td");
        tdCert.textContent = certNumber;

        const tdImage = document.createElement("td");
        const img = document.createElement("img");
        img.src = "images/" + (logoMap[certNumber] || "default.png");  // 기본 이미지 fallback
        img.alt = certNumber;
        tdImage.appendChild(img);

        row.appendChild(tdName);
        row.appendChild(tdModel);
        row.appendChild(tdCert);
        row.appendChild(tdImage);
        table.appendChild(row);
      });
    })
    .catch(() => {
      const row = document.createElement("tr");
      row.innerHTML = "<td colspan='4'>데이터를 불러오지 못했습니다.</td>";
      document.getElementById("info-table").appendChild(row);
    });
</script>

</body>
</html>
